<!DOCTYPE html>
<html>
  <head>
    <title>Socializer</title>
    <%= stylesheet_link_tag    'socializer/application' %>
    <%= csrf_meta_tags %>
  </head>
  <body data-controller="<%= controller_name %>" data-action="<%= action_name %>", data-locale="<%= I18n.locale %>" >

    <% if signed_in? %>
    <header role='banner'>
      <%= render 'socializer/shared/topbar' %>
      <%= render 'socializer/shared/toolbar' %>
    </header>

    <div id='outer-page'>

      <aside id='stream-column' role='complementary'>
      <% if params[:provider] == 'people' || params[:controller] == 'socializer/people' %>
        <%= render 'socializer/people/card', person: @person %>
      <% else %>
        <%= render 'socializer/activities/stream_list' %>
      <% end %>
      </aside>

      <% if params[:controller] == 'socializer/activities' && (params[:provider] == 'groups' || params[:provider] =='circles' || params[:provider].nil?) %>

      <main id='page-content' role='main' style='width: 558px;'>
        <%= yield %>
      </main>

      <aside id='contextual-column' role='complementary'>
        <% if params[:provider] == 'circles' %>
          <%= render 'socializer/circles/card', circle: @circle, title: @title %>
        <% elsif params[:provider] == 'groups' %>
          <%= render 'socializer/groups/card', group: @group, title: @title %>
        <% elsif params[:provider].nil? %>
          <%= render 'socializer/activities/stream_card' %>
        <% end %>
      </aside>

      <% else %>

      <main id='page-content' role='main' style='width: 758px;'>
        <%= yield %>
      </main>

      <% end %>
    </div>

    <% else %>
    <div id='outer-page'>
      <%= render 'socializer/people/login' %>
    </div>
    <% end %>

    <footer role='contentinfo'>
    </footer>

    <%= javascript_include_tag 'socializer/application' %>
  </body>
</html>
